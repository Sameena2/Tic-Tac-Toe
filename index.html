<html>
    <head>
        <title>
            Tic Tac Toe
        </title>
    </head>
    <body align="center">
    
        <script>
            document.body.style.backgroundColor="burlywood";
            

            //heading
            var heading=document.createElement("h1");
            heading.style.fontSize="40px";
            heading.innerHTML="<i>Start the Game : </i> "
            document.body.appendChild(heading);

            var pl=document.createElement("h2");
            pl.style.fontSize="30px";
            pl.innerHTML="Player1: X &ensp;&ensp; Player2: O"
            document.body.appendChild(pl);

            //turn
            var turn=document.createElement("h2");
            turn.style.fontSize="30px";
            turn.innerHTML="<i>X's turn"
            turn.setAttribute("id","turn")
            turn.style.color="#6C9F02"
            document.body.appendChild(turn);

            //note
            var note=document.createElement("h4");
            note.style.color="red";
            note.innerHTML="Note  :  It will check the result and shows the winner when anyone wins."
            document.body.appendChild(note);

            // var tem=document.createElement("h1");
            // tem.innerHTML="Welcome"
            // surr.appendChild(tem);

            var game=["","","","","","","","",""];
            var symbol=1;
            for(var i=1;i<=9;i++)
            {
                var div=document.createElement("button");
                div.style.margin="2px";
                div.style.width="25px";
                div.style.height="25px";
                div.setAttribute("style","border:2px solid;")
                div.style.padding="25px";
                div.style.margin="10px";
                div.style.borderRadius="10px"
                div.setAttribute("onclick","getvalue("+(i-1)+")")
                div.setAttribute("id",i-1);
                div.style.color="#02089F"
                document.body.appendChild(div);
                if(i%3==0)
                {
                    var bre = document.createElement("br");
                    document.body.appendChild(bre);
                }
            }
            function display()
            {
                for(var i=0;i<9;i++)
                {
                    document.getElementById(i).innerHTML="<h3>"+game[i]+"</h3>";
                }
            }
            display()
            function getvalue(value)
            {
                if(game[value]!="X" && game[value]!="O"  )
                {
                    if(symbol==1)
                    {
                        game[value]="X";
                        symbol=0;
                        document.getElementById("turn").innerHTML="<i>O's turn"
                    }
                    else
                    {
                        game[value]="O";
                        symbol=1;
                        document.getElementById("turn").innerHTML="<i>X's turn"
                    }
                }
                display();
                submit();
            }
            function count(val)
            {
                var num=0;
                for(var k=0;k<9;k++)
                {
                    if(game[k]==val)
                        num++;
                }
                return num;
            }
            function check(value)
            {
                var row1=[0,1,2]
                var row2=[3,4,5]
                var row3=[6,7,8]
                var col1=[0,3,6]
                var col2=[1,4,7]
                var col3=[2,5,8]
                var cross1=[0,4,8]
                var cross2=[2,4,6]
                var te=[row1,row2,row3,col1,col2,col3,cross1,cross2]
                for(var i=0;i<8;i++)
                {
                    var k=0
                    for(var j=0;j<te[i].length;j++)
                    {
                        if(game[te[i][j]]==value)
                        {
                            k++;
                        }
                            
                    }
                    if(k==3)
                        return true
                }
                return false
                
            }
            function playagain()
            {
                    var play=document.createElement("a");
                    play.style.fontSize="40px";
                    play.setAttribute("href","index.html")
                    play.innerHTML="Play Again"
                    document.body.appendChild(play);
            }
            function submit()
            {
                var cr=count("X");
                var co=count("O");
                console.log(cr)
                console.log(co)
                if(cr>=3)
                {
                    var value="X"
                    console.log(check(value))
                    if(check(value))
                    {
                        document.body.innerHTML="<h1 align='center'><i>Player:1 Won the Gameüéâ<br><br><i>Thank You</h1>";
                        playagain()
                        
                    }
                }
                if(co>=3)
                {
                    var value="O"
                    if(check(value))
                    {
                        document.body.innerHTML="<h1 align='center'><i>Player:2 Won the Gameüéâ<br><br><i>Thank You</h1>";
                        playagain()
                    }
                }
                if((cr+co)==9)
                {
                    document.body.innerHTML="<h1 align='center'><i> Match TieüòÅ<br></h1>";
                    playagain()
                }
            }

        </script>
    </body>
</html>